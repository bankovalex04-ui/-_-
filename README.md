# Data Driven Engineering
## Описание датасета
[Kaggle](https://www.kaggle.com/datasets/thedevastator/wikipedia-molecules-properties-dataset?select=properties.csv) 

[Google Drive](https://drive.google.com/file/d/1gz1OGvguKQbgIgdKeAuoIfU5rVnI3kMW)

Набор данных содержит обширную информацию о химических веществах, извлечённую из Википедии. Каждая запись описывает уникальную молекулу и включает ключевые характеристики, полезные для исследований в фармацевтике и материаловедении.

Основные свойства в наборе данных:
*   **Физико-химические свойства:** Молекулярный вес, гидрофобность (Mannhold logP), топологическая площадь полярной поверхности.
*   **Структурные особенности:** Длина наибольшей углеродной цепи, количество ароматических связей, длина наибольшей π-цепи.
*   **Взаимодействия:** Информация о донорах и акцепторах водородных связей.
*   **Атомистические данные:** Количество различных элементов, атомные и связные поляризуемости, формальные заряды.
*   **Дескрипторы сложности:** Метрики для оценки сложности молекулы и связности атомов.

Набор также содержит идентификаторы, такие как название и молекулярная формула, что упрощает поиск. Эти данные позволяют анализировать сходство молекул с лекарственными средствами (например, по правилу Липински) и являются ценным ресурсом для хемоинформатики.

## Описание колонок

| Название столбца | Описание | Тип данных |
|------------------|----------|------------|
| Молекула | Химическая структура молекулы | Текст |
| Название молекулы | Название химического вещества | Текст |
| Mannhold logP | Логарифм коэффициента разделения, измеряющий гидрофобность | Числовой |
| Поляризуемость атомов | Поляризуемость атомов в молекуле | Числовой |
| Ароматические атомы | Количество ароматических атомов в молекуле | Числовой |
| Ароматические связи | Количество ароматических связей в молекуле | Числовой |
| Количество элементов | Количество элементов, присутствующих в молекуле | Числовой |
| Поляризуемость связей | Поляризуемость связей в молекуле | Числовой |
| Количество связей | Общее количество связей в молекуле | Числовой |
| Сложность фрагмента | Сложность молекулярного фрагмента | Числовой |
| Объемный дескриптор VABC | Величина информации о смежности вершин | Числовой |
| Акцепторы водородной связи | Количество акцепторных участков водородной связи | Числовой |
| Доноры водородной связи | Количество донорных участков водородной связи | Числовой |
| Наибольшая цепь | Длина самой большой цепи в молекуле | Числовой |
| Наибольшая Pi-цепь | Длина самой большой pi-цепи в молекуле | Числовой |
| Число Петижана | Мера сложности молекулы | Числовой |
| Вращающиеся связи | Количество вращающихся связей в молекуле | Числовой |
| Правило Липински | Оценка соответствия правилу пяти Липински | Числовой |
| TPSA | Топологическая площадь полярной поверхности | Числовой |
| Молекулярный вес | Масса молекулы, рассчитанная суммированием атомных весов | Числовой |
| XLogP | Логарифм коэффициента разделения, измеряющий гидрофобность | Числовой |
| Молекулярная формула | Химическая формула молекулы | Текст |
| Формальный заряд | Общий формальный заряд молекулы | Числовой |
| Формальный заряд (pos) | Положительный формальный заряд молекулы | Числовой |
| Формальный заряд (neg) | Отрицательный формальный заряд молекулы | Числовой |
| Тяжелые атомы | Количество тяжелых атомов (атомов, отличных от водорода) | Числовой |
| Молярная масса | Молярная масса молекулы | Числовой |
| SP3-гибридизация | Процентное содержание sp3-гибридизации в атомах углерода | Числовой |
| Вращающиеся связи (нетерминальные) | Количество вращающихся связей, включая нетерминальные | Числовой |

## Структура проекта
```
-_-/
|
├── etl/                             
|   ├── __init__
|   ├── extract.py                   # Загрузка сырых данных с облака, валидация и сохранение в .csv
|   ├── load.py                      # Сохранение обработанных данных в .parquet и загрузка в БД
|   ├── main.py                      # Объединение всех модулей. Требуется минимум один аргумент — file_id и один необязательный (load_to_db)
|   ├── transform.py                 # Преобразование типов данных
|   └── validate.py                  # Проверки валидации данных                 
|
├── notebooks/                       # Ноутбуки
|   └── EDA.ipynb                    # EDA с графиками
|
├── environment.yml                  # Конфигурация окружения 
└── README.md                        # Основная документация проекта
```
## Установка окружения и активация
1. Создать виртуальное окружение из файла environment.yml
   ```
   conda env create -f environment.yml
   ```
2. Активировать окружение 
   ```
   conda activate your-env
   ```
## ETL процесс
После предыдущего этапа с созданием и настройкой виртуального окружения в терминал вводится следующая команда:
```
python etl/main.py --file_id 1gz1OGvguKQbgIgdKeAuoIfU5rVnI3kMW --load_to_db
```
Эта строчка запускает весь ETL процесс: от загрузки данных с облака до сохранения преобразованного датасета в формате .parquet и запись данных в БД PostgreSQL.

Если по какой-то причине вы не хотите загружать ваш датасет в БД - нужно будет ввести сокращенную команду в терминал:
```
python etl/main.py --file_id 1gz1OGvguKQbgIgdKeAuoIfU5rVnI3kMW
```
Ниже представлен выводы после запуска etl пакета:

<img width="447" height="112" alt="image" src="https://github.com/user-attachments/assets/7bfcd180-21d5-443e-940f-c6b6b2363664" />


## EDA
